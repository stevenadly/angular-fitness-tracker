function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{CKRj:function(e,t,n){"use strict";n.r(t);var i=n("PCNd"),a=n("I/3d"),c=n("tyNb"),r=(n("5x/H"),n("fXoL")),s=n("vEl1"),o=n("ofXK"),l=n("wZkO"),u=n("/+hH"),b=n("Wp6s"),f=n("3Pt+"),m=n("kmnG"),g=n("d3UM"),p=n("FKr1"),d=n("bTqV");function h(e,t){if(1&e&&(r.Vb(0,"mat-option",10),r.Bc(1),r.Ub()),2&e){var n=t.$implicit;r.nc("value",n.id),r.Db(1),r.Dc(" ",n.name," ")}}function v(e,t){if(1&e&&(r.Vb(0,"button",11),r.Bc(1,"Start"),r.Ub()),2&e){r.hc();var n=r.sc(6);r.mc("disabled",n.invalid)}}function y(e,t){if(1&e){var n=r.Wb();r.Vb(0,"button",12),r.dc("click",(function(e){return r.uc(n),r.hc().fetchAllExercises()})),r.Bc(1,"fetch Again"),r.Ub()}}var x,C=((x=function(){function e(t,n){_classCallCheck(this,e),this.TrainingService=t,this.uiservice=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loadingSub=this.uiservice.loadingStateChanged.subscribe((function(t){e.isLoading=t})),this.exerciseSubscription=this.TrainingService.excercisesChanged.subscribe((function(t){e.exercises=t})),this.fetchAllExercises()}},{key:"fetchAllExercises",value:function(){this.TrainingService.getExercises()}},{key:"ngOnDestroy",value:function(){this.exerciseSubscription&&this.exerciseSubscription.unsubscribe()}},{key:"onStartTraining",value:function(e){console.log(e.value.exercise),this.TrainingService.startTraining(e.value.exercise)}}]),e}()).\u0275fac=function(e){return new(e||x)(r.Pb(s.a),r.Pb(u.a))},x.\u0275cmp=r.Jb({type:x,selectors:[["app-new-training"]],decls:13,vars:3,consts:[["fxlayout","","fxlayoutalign","center",1,"new-training"],["fxflex.xs","100%","fxflex","800px","fxlayoutalign","center"],["fxlayoutalign","center"],["fxlayoutalign","center","fxlayout",""],["action","","fxlayout","","fxlayoutalign","center",3,"ngSubmit"],["f","ngForm"],["placeholder","Exercise","name","exercise","ngModel","","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-button","",3,"disabled",4,"ngIf"],["type","button","mat-button","",3,"click",4,"ngIf"],[3,"value"],["type","submit","mat-button","",3,"disabled"],["type","button","mat-button","",3,"click"]],template:function(e,t){if(1&e){var n=r.Wb();r.Vb(0,"section",0),r.Vb(1,"mat-card",1),r.Vb(2,"mat-card-title",2),r.Bc(3,"Time to start a workout ya steven!"),r.Ub(),r.Vb(4,"mat-card-content",3),r.Vb(5,"form",4,5),r.dc("ngSubmit",(function(e){r.uc(n);var i=r.sc(6);return t.onStartTraining(i)})),r.Vb(7,"mat-form-field"),r.Vb(8,"mat-select",6),r.Ac(9,h,2,2,"mat-option",7),r.Ub(),r.Ub(),r.Vb(10,"mat-card-actions",2),r.Ac(11,v,2,1,"button",8),r.Ac(12,y,2,0,"button",9),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}2&e&&(r.Db(9),r.mc("ngForOf",t.exercises),r.Db(2),r.mc("ngIf",t.exercises),r.Db(1),r.mc("ngIf",!t.exercises))},directives:[b.a,b.e,b.c,f.t,f.n,f.o,m.b,g.a,f.m,f.p,f.r,o.l,b.b,o.m,p.n,d.a],styles:[".new-training[_ngcontent-%COMP%]{padding:30px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]}),x),S=n("Dh3D"),D=n("+0xr"),w=n("M9IT"),U=n("quSY"),V=n("qFsG");function k(e,t){1&e&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"Date"),r.Ub())}function T(e,t){if(1&e&&(r.Vb(0,"mat-cell"),r.Bc(1),r.ic(2,"date"),r.Ub()),2&e){var n=t.$implicit;r.Db(1),r.Cc(r.jc(2,1,n.date.toDate()))}}function A(e,t){1&e&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"Name"),r.Ub())}function B(e,t){if(1&e&&(r.Vb(0,"mat-cell"),r.Bc(1),r.Ub()),2&e){var n=t.$implicit;r.Db(1),r.Cc(n.name)}}function I(e,t){1&e&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"Calories"),r.Ub())}function O(e,t){if(1&e&&(r.Vb(0,"mat-cell"),r.Bc(1),r.ic(2,"number"),r.Ub()),2&e){var n=t.$implicit;r.Db(1),r.Cc(r.jc(2,1,n.calories))}}function _(e,t){1&e&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"Duration"),r.Ub())}function E(e,t){if(1&e&&(r.Vb(0,"mat-cell"),r.Bc(1),r.ic(2,"number"),r.Ub()),2&e){var n=t.$implicit;r.Db(1),r.Cc(r.jc(2,1,n.duration))}}function P(e,t){1&e&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"State"),r.Ub())}function F(e,t){if(1&e&&(r.Vb(0,"mat-cell"),r.Bc(1),r.Ub()),2&e){var n=t.$implicit;r.Db(1),r.Cc(n.state)}}function R(e,t){1&e&&r.Qb(0,"mat-header-row")}function j(e,t){1&e&&r.Qb(0,"mat-row")}var M,Q,J,L=function(){return[5,10,20]},N=((M=function(){function e(t){_classCallCheck(this,e),this.trainingService=t,this.displayedColumns=["date","name","duration","calories","state"],this.dataSource=new D.k,this.finishedexercisessubscription=new U.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.finishedexercisessubscription=this.trainingService.finishedexcercisesChanged.subscribe((function(t){e.dataSource.data=t})),this.trainingService.getCompletedAndCancelledExercises()}},{key:"ngOnDestroy",value:function(){this.finishedexercisessubscription&&this.finishedexercisessubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}},{key:"applyFilter",value:function(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}}]),e}()).\u0275fac=function(e){return new(e||M)(r.Pb(s.a))},M.\u0275cmp=r.Jb({type:M,selectors:[["app-past-trainings"]],viewQuery:function(e,t){var n;1&e&&(r.Fc(S.a,!0),r.Fc(w.a,!0)),2&e&&(r.rc(n=r.ec())&&(t.sort=n.first),r.rc(n=r.ec())&&(t.paginator=n.first))},decls:23,vars:5,consts:[["matInput","","placeholder","Ex. ium",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","calories"],["matColumnDef","duration"],["matColumnDef","state"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""]],template:function(e,t){1&e&&(r.Vb(0,"mat-form-field"),r.Vb(1,"mat-label"),r.Bc(2,"Filter"),r.Ub(),r.Vb(3,"input",0),r.dc("keyup",(function(e){return t.applyFilter(e)})),r.Ub(),r.Ub(),r.Vb(4,"mat-table",1),r.Tb(5,2),r.Ac(6,k,2,0,"mat-header-cell",3),r.Ac(7,T,3,3,"mat-cell",4),r.Sb(),r.Tb(8,5),r.Ac(9,A,2,0,"mat-header-cell",3),r.Ac(10,B,2,1,"mat-cell",4),r.Sb(),r.Tb(11,6),r.Ac(12,I,2,0,"mat-header-cell",3),r.Ac(13,O,3,3,"mat-cell",4),r.Sb(),r.Tb(14,7),r.Ac(15,_,2,0,"mat-header-cell",3),r.Ac(16,E,3,3,"mat-cell",4),r.Sb(),r.Tb(17,8),r.Ac(18,P,2,0,"mat-header-cell",3),r.Ac(19,F,2,1,"mat-cell",4),r.Sb(),r.Ac(20,R,1,0,"mat-header-row",9),r.Ac(21,j,1,0,"mat-row",10),r.Ub(),r.Qb(22,"mat-paginator",11)),2&e&&(r.Db(4),r.mc("dataSource",t.dataSource),r.Db(16),r.mc("matHeaderRowDef",t.displayedColumns),r.Db(1),r.mc("matRowDefColumns",t.displayedColumns),r.Db(1),r.mc("pageSizeOptions",r.oc(4,L)))},directives:[m.b,m.f,V.b,D.j,S.a,D.c,D.e,D.b,D.g,D.i,w.a,D.d,S.b,D.a,D.f,D.h],pipes:[o.e,o.f],styles:[".mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),M),$=n("0IaG"),H=((Q=function e(t){_classCallCheck(this,e),this.passedData=t}).\u0275fac=function(e){return new(e||Q)(r.Pb($.a))},Q.\u0275cmp=r.Jb({type:Q,selectors:[["app-stop-training"]],decls:10,vars:3,consts:[["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(r.Vb(0,"h1",0),r.Bc(1,"Are you sure?"),r.Ub(),r.Vb(2,"mat-dialog-content"),r.Vb(3,"p"),r.Bc(4),r.Ub(),r.Ub(),r.Vb(5,"mat-dialog-actions"),r.Vb(6,"button",1),r.Bc(7,"Yes"),r.Ub(),r.Vb(8,"button",1),r.Bc(9,"No"),r.Ub(),r.Ub()),2&e&&(r.Db(4),r.Dc("You already got ",t.passedData.progress,"%"),r.Db(2),r.mc("mat-dialog-close",!0),r.Db(2),r.mc("mat-dialog-close",!1))},directives:[$.g,$.e,$.c,d.a,$.d],encapsulation:2}),Q),q=n("XiUz"),z=n("Xa2L"),K=((J=function(){function e(t,n){_classCallCheck(this,e),this.dialog=t,this.TrainingService=n,this.trainingExit=new r.o,this.progress=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.startOrResumeTimer()}},{key:"startOrResumeTimer",value:function(){var e=this;this.steps=this.TrainingService.getRunningExcercise().duration/100*1e3,this.timer=+setInterval((function(){e.progress=e.progress+1,e.progress>=100&&(e.TrainingService.completeExercise(),clearInterval(e.timer))}),this.steps)}},{key:"onStop",value:function(){var e=this;clearInterval(this.timer),this.dialog.open(H,{data:{progress:this.progress}}).afterClosed().subscribe((function(t){t?e.TrainingService.cancelExercise(e.progress):e.startOrResumeTimer()}))}}]),e}()).\u0275fac=function(e){return new(e||J)(r.Pb($.b),r.Pb(s.a))},J.\u0275cmp=r.Jb({type:J,selectors:[["app-current-training"]],outputs:{trainingExit:"trainingExit"},decls:8,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"current-training"],["mode","determinate",3,"value"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(r.Vb(0,"section",0),r.Qb(1,"mat-progress-spinner",1),r.Vb(2,"h1"),r.Bc(3),r.Ub(),r.Vb(4,"p"),r.Bc(5,"Keep on going, you can do it!"),r.Ub(),r.Vb(6,"button",2),r.dc("click",(function(e){return t.onStop()})),r.Bc(7,"Stop"),r.Ub(),r.Ub()),2&e&&(r.Db(1),r.mc("value",t.progress),r.Db(2),r.Dc("",t.progress,"%"))},directives:[q.c,q.b,z.a,d.a],styles:[""]}),J);function X(e,t){1&e&&(r.Vb(0,"mat-tab-group"),r.Vb(1,"mat-tab",1),r.Qb(2,"app-new-training"),r.Ub(),r.Vb(3,"mat-tab",2),r.Qb(4,"app-past-trainings"),r.Ub(),r.Ub())}function G(e,t){1&e&&r.Qb(0,"app-current-training")}var W,Y,Z=[{path:"",component:(Y=function(){function e(t){_classCallCheck(this,e),this.TrainingService=t,this.ongoingTraining=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.ongoingTrainingSubscribtion=this.TrainingService.excerciseChanged.subscribe((function(t){e.ongoingTraining=!!t}))}},{key:"ngOnDestroy",value:function(){this.ongoingTrainingSubscribtion&&this.ongoingTrainingSubscribtion.unsubscribe()}}]),e}(),Y.\u0275fac=function(e){return new(e||Y)(r.Pb(s.a))},Y.\u0275cmp=r.Jb({type:Y,selectors:[["app-training"]],decls:2,vars:2,consts:[[4,"ngIf"],["label","New Exercise"],["label","Past Exercises"]],template:function(e,t){1&e&&(r.Ac(0,X,5,0,"mat-tab-group",0),r.Ac(1,G,1,0,"app-current-training",0)),2&e&&(r.mc("ngIf",!t.ongoingTraining),r.Db(1),r.mc("ngIf",t.ongoingTraining))},directives:[o.m,l.b,l.a,C,N,K],styles:[""]}),Y)}],ee=((W=function e(){_classCallCheck(this,e)}).\u0275mod=r.Nb({type:W}),W.\u0275inj=r.Mb({factory:function(e){return new(e||W)},imports:[[c.c.forChild(Z)],c.c]}),W);n.d(t,"TrainingModule",(function(){return ne}));var te,ne=((te=function e(){_classCallCheck(this,e)}).\u0275mod=r.Nb({type:te}),te.\u0275inj=r.Mb({factory:function(e){return new(e||te)},imports:[[a.b,i.a,ee]]}),te)}}]);