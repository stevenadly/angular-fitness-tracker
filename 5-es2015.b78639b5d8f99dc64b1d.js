(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{CKRj:function(t,e,i){"use strict";i.r(e);var n=i("PCNd"),c=i("I/3d"),a=i("tyNb"),r=(i("5x/H"),i("fXoL")),s=i("vEl1"),o=i("ofXK"),b=i("wZkO"),l=i("/+hH"),u=i("Wp6s"),m=i("3Pt+"),g=i("kmnG"),p=i("d3UM"),d=i("FKr1"),f=i("bTqV");function h(t,e){if(1&t&&(r.Vb(0,"mat-option",10),r.Bc(1),r.Ub()),2&t){const t=e.$implicit;r.nc("value",t.id),r.Db(1),r.Dc(" ",t.name," ")}}function x(t,e){if(1&t&&(r.Vb(0,"button",11),r.Bc(1,"Start"),r.Ub()),2&t){r.hc();const t=r.sc(6);r.mc("disabled",t.invalid)}}function S(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",12),r.dc("click",(function(e){return r.uc(t),r.hc().fetchAllExercises()})),r.Bc(1,"fetch Again"),r.Ub()}}let y=(()=>{class t{constructor(t,e){this.TrainingService=t,this.uiservice=e}ngOnInit(){this.loadingSub=this.uiservice.loadingStateChanged.subscribe(t=>{this.isLoading=t}),this.exerciseSubscription=this.TrainingService.excercisesChanged.subscribe(t=>{this.exercises=t}),this.fetchAllExercises()}fetchAllExercises(){this.TrainingService.getExercises()}ngOnDestroy(){this.exerciseSubscription&&this.exerciseSubscription.unsubscribe()}onStartTraining(t){console.log(t.value.exercise),this.TrainingService.startTraining(t.value.exercise)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(s.a),r.Pb(l.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-new-training"]],decls:13,vars:3,consts:[["fxlayout","","fxlayoutalign","center",1,"new-training"],["fxflex.xs","100%","fxflex","800px","fxlayoutalign","center"],["fxlayoutalign","center"],["fxlayoutalign","center","fxlayout",""],["action","","fxlayout","","fxlayoutalign","center",3,"ngSubmit"],["f","ngForm"],["placeholder","Exercise","name","exercise","ngModel","","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-button","",3,"disabled",4,"ngIf"],["type","button","mat-button","",3,"click",4,"ngIf"],[3,"value"],["type","submit","mat-button","",3,"disabled"],["type","button","mat-button","",3,"click"]],template:function(t,e){if(1&t){const t=r.Wb();r.Vb(0,"section",0),r.Vb(1,"mat-card",1),r.Vb(2,"mat-card-title",2),r.Bc(3,"Time to start a workout ya steven!"),r.Ub(),r.Vb(4,"mat-card-content",3),r.Vb(5,"form",4,5),r.dc("ngSubmit",(function(i){r.uc(t);const n=r.sc(6);return e.onStartTraining(n)})),r.Vb(7,"mat-form-field"),r.Vb(8,"mat-select",6),r.Ac(9,h,2,2,"mat-option",7),r.Ub(),r.Ub(),r.Vb(10,"mat-card-actions",2),r.Ac(11,x,2,1,"button",8),r.Ac(12,S,2,0,"button",9),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}2&t&&(r.Db(9),r.mc("ngForOf",e.exercises),r.Db(2),r.mc("ngIf",e.exercises),r.Db(1),r.mc("ngIf",!e.exercises))},directives:[u.a,u.e,u.c,m.t,m.n,m.o,g.b,p.a,m.m,m.p,m.r,o.l,u.b,o.m,d.n,f.a],styles:[".new-training[_ngcontent-%COMP%]{padding:30px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]}),t})();var v=i("Dh3D"),D=i("+0xr"),w=i("M9IT"),U=i("quSY"),V=i("qFsG");function T(t,e){1&t&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"Date"),r.Ub())}function C(t,e){if(1&t&&(r.Vb(0,"mat-cell"),r.Bc(1),r.ic(2,"date"),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.Cc(r.jc(2,1,t.date.toDate()))}}function A(t,e){1&t&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"Name"),r.Ub())}function B(t,e){if(1&t&&(r.Vb(0,"mat-cell"),r.Bc(1),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.Cc(t.name)}}function I(t,e){1&t&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"Calories"),r.Ub())}function k(t,e){if(1&t&&(r.Vb(0,"mat-cell"),r.Bc(1),r.ic(2,"number"),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.Cc(r.jc(2,1,t.calories))}}function O(t,e){1&t&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"Duration"),r.Ub())}function E(t,e){if(1&t&&(r.Vb(0,"mat-cell"),r.Bc(1),r.ic(2,"number"),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.Cc(r.jc(2,1,t.duration))}}function F(t,e){1&t&&(r.Vb(0,"mat-header-cell",12),r.Bc(1,"State"),r.Ub())}function P(t,e){if(1&t&&(r.Vb(0,"mat-cell"),r.Bc(1),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.Cc(t.state)}}function R(t,e){1&t&&r.Qb(0,"mat-header-row")}function j(t,e){1&t&&r.Qb(0,"mat-row")}const M=function(){return[5,10,20]};let Q=(()=>{class t{constructor(t){this.trainingService=t,this.displayedColumns=["date","name","duration","calories","state"],this.dataSource=new D.k,this.finishedexercisessubscription=new U.a}ngOnInit(){this.finishedexercisessubscription=this.trainingService.finishedexcercisesChanged.subscribe(t=>{this.dataSource.data=t}),this.trainingService.getCompletedAndCancelledExercises()}ngOnDestroy(){this.finishedexercisessubscription&&this.finishedexercisessubscription.unsubscribe()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(s.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-past-trainings"]],viewQuery:function(t,e){var i;1&t&&(r.Fc(v.a,!0),r.Fc(w.a,!0)),2&t&&(r.rc(i=r.ec())&&(e.sort=i.first),r.rc(i=r.ec())&&(e.paginator=i.first))},decls:23,vars:5,consts:[["matInput","","placeholder","Ex. ium",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","calories"],["matColumnDef","duration"],["matColumnDef","state"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""]],template:function(t,e){1&t&&(r.Vb(0,"mat-form-field"),r.Vb(1,"mat-label"),r.Bc(2,"Filter"),r.Ub(),r.Vb(3,"input",0),r.dc("keyup",(function(t){return e.applyFilter(t)})),r.Ub(),r.Ub(),r.Vb(4,"mat-table",1),r.Tb(5,2),r.Ac(6,T,2,0,"mat-header-cell",3),r.Ac(7,C,3,3,"mat-cell",4),r.Sb(),r.Tb(8,5),r.Ac(9,A,2,0,"mat-header-cell",3),r.Ac(10,B,2,1,"mat-cell",4),r.Sb(),r.Tb(11,6),r.Ac(12,I,2,0,"mat-header-cell",3),r.Ac(13,k,3,3,"mat-cell",4),r.Sb(),r.Tb(14,7),r.Ac(15,O,2,0,"mat-header-cell",3),r.Ac(16,E,3,3,"mat-cell",4),r.Sb(),r.Tb(17,8),r.Ac(18,F,2,0,"mat-header-cell",3),r.Ac(19,P,2,1,"mat-cell",4),r.Sb(),r.Ac(20,R,1,0,"mat-header-row",9),r.Ac(21,j,1,0,"mat-row",10),r.Ub(),r.Qb(22,"mat-paginator",11)),2&t&&(r.Db(4),r.mc("dataSource",e.dataSource),r.Db(16),r.mc("matHeaderRowDef",e.displayedColumns),r.Db(1),r.mc("matRowDefColumns",e.displayedColumns),r.Db(1),r.mc("pageSizeOptions",r.oc(4,M)))},directives:[g.b,g.f,V.b,D.j,v.a,D.c,D.e,D.b,D.g,D.i,w.a,D.d,v.b,D.a,D.f,D.h],pipes:[o.e,o.f],styles:[".mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})();var J=i("0IaG");let L=(()=>{class t{constructor(t){this.passedData=t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(J.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-stop-training"]],decls:10,vars:3,consts:[["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Vb(0,"h1",0),r.Bc(1,"Are you sure?"),r.Ub(),r.Vb(2,"mat-dialog-content"),r.Vb(3,"p"),r.Bc(4),r.Ub(),r.Ub(),r.Vb(5,"mat-dialog-actions"),r.Vb(6,"button",1),r.Bc(7,"Yes"),r.Ub(),r.Vb(8,"button",1),r.Bc(9,"No"),r.Ub(),r.Ub()),2&t&&(r.Db(4),r.Dc("You already got ",e.passedData.progress,"%"),r.Db(2),r.mc("mat-dialog-close",!0),r.Db(2),r.mc("mat-dialog-close",!1))},directives:[J.g,J.e,J.c,f.a,J.d],encapsulation:2}),t})();var N=i("XiUz"),$=i("Xa2L");let H=(()=>{class t{constructor(t,e){this.dialog=t,this.TrainingService=e,this.trainingExit=new r.o,this.progress=0}ngOnInit(){this.startOrResumeTimer()}startOrResumeTimer(){this.steps=this.TrainingService.getRunningExcercise().duration/100*1e3,this.timer=+setInterval(()=>{this.progress=this.progress+1,this.progress>=100&&(this.TrainingService.completeExercise(),clearInterval(this.timer))},this.steps)}onStop(){clearInterval(this.timer),this.dialog.open(L,{data:{progress:this.progress}}).afterClosed().subscribe(t=>{t?this.TrainingService.cancelExercise(this.progress):this.startOrResumeTimer()})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(J.b),r.Pb(s.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-current-training"]],outputs:{trainingExit:"trainingExit"},decls:8,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"current-training"],["mode","determinate",3,"value"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(r.Vb(0,"section",0),r.Qb(1,"mat-progress-spinner",1),r.Vb(2,"h1"),r.Bc(3),r.Ub(),r.Vb(4,"p"),r.Bc(5,"Keep on going, you can do it!"),r.Ub(),r.Vb(6,"button",2),r.dc("click",(function(t){return e.onStop()})),r.Bc(7,"Stop"),r.Ub(),r.Ub()),2&t&&(r.Db(1),r.mc("value",e.progress),r.Db(2),r.Dc("",e.progress,"%"))},directives:[N.c,N.b,$.a,f.a],styles:[""]}),t})();function q(t,e){1&t&&(r.Vb(0,"mat-tab-group"),r.Vb(1,"mat-tab",1),r.Qb(2,"app-new-training"),r.Ub(),r.Vb(3,"mat-tab",2),r.Qb(4,"app-past-trainings"),r.Ub(),r.Ub())}function z(t,e){1&t&&r.Qb(0,"app-current-training")}let K=[{path:"",component:(()=>{class t{constructor(t){this.TrainingService=t,this.ongoingTraining=!1}ngOnInit(){this.ongoingTrainingSubscribtion=this.TrainingService.excerciseChanged.subscribe(t=>{this.ongoingTraining=!!t})}ngOnDestroy(){this.ongoingTrainingSubscribtion&&this.ongoingTrainingSubscribtion.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(s.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-training"]],decls:2,vars:2,consts:[[4,"ngIf"],["label","New Exercise"],["label","Past Exercises"]],template:function(t,e){1&t&&(r.Ac(0,q,5,0,"mat-tab-group",0),r.Ac(1,z,1,0,"app-current-training",0)),2&t&&(r.mc("ngIf",!e.ongoingTraining),r.Db(1),r.mc("ngIf",e.ongoingTraining))},directives:[o.m,b.b,b.a,y,Q,H],styles:[""]}),t})()}],X=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[a.c.forChild(K)],a.c]}),t})();i.d(e,"TrainingModule",(function(){return G}));let G=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[c.b,n.a,X]]}),t})()}}]);